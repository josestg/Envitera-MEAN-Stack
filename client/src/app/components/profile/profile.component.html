<div class="slider">
</div>

<div class="container-fluid">
  <div class="container-fluid p-5 user-page">

    <div class="container-fluid">
      <!-- Row -->
      <div class="row">
        <!-- Column -->
        <div class="col-lg-4 mb-5">
          <!-- Column -->
          <div class="card">
            <img class="card-img-top h-100" src="../../../assets/img/profile-bg.jpg" alt="Card image cap">
            <div class="card-body little-profile text-center">
              <div class="pro-img"><img src="../../../assets/img/4.jpg" alt="user" /></div>
              <h3 class="mb-0">{{profile?.user?.name}}</h3>
              <p class="text-muted">{{profile?.status}}</p>
              <div class="row text-center mt-5 mb-3">
                <div class="col-4">
                  <h4 class="mb-0 font-light ">{{numPosts}}</h4><small>Post</small>
                </div>
                <div class="col-4">
                  <h3 class="mb-0 font-light">{{numLikes}}</h3><small>Likes</small>
                </div>
                <div class="col-4">
                  <h3 class="mb-0 font-light">{{numComments}}</h3><small>Coments</small>
                </div>
              </div>
            </div>
          </div>

        </div>

        <div class="col-lg-8 mb-5">
          <div class="card">
            <!-- Nav tabs -->
            <ul class="nav nav-tabs profile-tab" role="tablist">
              <li class="nav-item"> <a class="nav-link active" data-toggle="tab" href="#postTimeline" role="tab">Posts</a>
              </li>
              <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#addpost" role="tab">Add
                  Post</a> </li>
              <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#profile" role="tab">Profile</a>
              </li>
              <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#settings" role="tab">Settings</a>
              </li>
            </ul>
            <!-- Tab panes -->
            <div class="tab-content">
              <div class="tab-pane active" id="postTimeline" role="tabpanel">

                <div class="card-body">
                  <div class="profiletimeline">

                    <div class="sl-item" *ngFor="let post of postsUser">
                      <div class="sl-left">
                        <img src="../../../assets/img/4.jpg" alt="user" class="rounded-circle">
                      </div>
                      <div class="sl-right">
                        <div class="container-fluid">
                          <div class="float-right">
                            <button #id value="{{post._id}}" (click) ="onDelete(id.value)"class="btn btn-sm btn-outline-danger"> Delete</button>
                          </div>
                          <a routerLink="/posts/{{post._id}}" class="link">{{profile?.user?.name}}</a> <span class="sl-date ml-2">{{post.date}}</span>
                          <div class="mt-3 row">
                            <div class="col-md-3 mb-2">
                              <img src="../../../assets/img/img4.jpg" alt="user" class="img-fluid radius">
                            </div>
                            <div class="col-md-9">
                              <p> {{post.text}} </p>
                            </div>
                          </div>
                          <div class="like-comm mt-2">
                            <a href="javascript:void(0)" class="link mr-3">{{post?.comments?.length}} comments</a> <a href="javascript:void(0)"
                              class="link mr-3"><i class="fa fa-heart text-danger"></i>
                              {{post?.likes?.length}} Love</a>
                          </div>
                        </div>
                      </div>
                    </div>
                    <hr>
                  </div>
                </div>

              </div>
              <div class="tab-pane" id="addpost" role="tabpanel">
                <div class="card-body">
                  <form class="form-horizontal form-material">
                    <div class="form-group">
                      <label class="col-md-12">Title</label>
                      <div class="col-md-12">
                        <input type="text" placeholder="Judul Post" class="form-control form-control-line">
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-md-12">Katgori</label>
                      <div class="col-md-12">
                        <input type="text" placeholder="Kategori Post" class="form-control form-control-line">
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-md-12">Tags</label>
                      <div class="col-md-12">
                        <input type="text" placeholder="Tag Post" class="form-control form-control-line">
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-md-12">Image</label>
                      <div class="col-md-12">
                        <input type="file" class="form-control-file" id="exampleFormControlFile1">
                      </div>

                    </div>

                    <div class="form-group">
                      <label class="col-md-12">Content</label>
                      <div class="col-md-12">
                        <textarea rows="5" class="form-control form-control-line"></textarea>
                      </div>
                    </div>

                    <div class="form-group">
                      <div class="col-sm-12">
                        <button class="btn btn-fill-grad">Send post</button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>

              <div class="tab-pane" id="profile" role="tabpanel">
                <div class="card-body">
                  <div class="container-fluid">
                    <div class="row ">

                      <div class="col-md-6 b-r"> <strong>Email</strong>
                        <br>
                        <p class="text-muted">{{profile?.user?.email}}</p>
                      </div>
                      <div class="col-md-6"> <strong>Location</strong>
                        <br>
                        <p class="text-muted">{{profile?.location}}</p>
                      </div>
                    </div>
                    <hr>
                    <p class="mt-30">{{profile?.bio}}</p>
                  </div>

                </div>
              </div>
              <div class="tab-pane" id="settings" role="tabpanel">
                <div class="card-body">
                  <form class="form-horizontal form-material" name="form" (ngSubmit)="f.form.valid && onUpdateUser()" #f="ngForm"  novalidate>
                      <div class="form-group">
                          <label class="col-md-12">Full Name</label>
                          <div class="col-md-12">
                              <input type="text" placeholder="{{profile?.user?.name}}" class="form-control form-control-line" name="name" [(ngModel)]="model.name" #name="ngModel" [ngClass]="{ 'is-invalid': f.submitted && name.invalid }" required >
                              <div *ngIf="f.submitted && name.invalid" class="invalid-feedback">
                                <div *ngIf="name.errors.required">Name is required</div>
                            </div>
                          </div>
                      </div>
                      <div class="form-group">
                        <label class="col-md-12">Handle</label>
                        <div class="col-md-12">
                            <input type="text" placeholder="{{profile?.handle}}" class="form-control form-control-line" name="handle" [(ngModel)]="model.handle" #handle="ngModel" [ngClass]="{ 'is-invalid': f.submitted && handle.invalid }"  >
                          </div>
                      </div>
                      <div class="form-group">
                        <label class="col-md-12">Status</label>
                        <div class="col-md-12">
                            <input type="text" placeholder="{{profile?.status}}" class="form-control form-control-line" name="status" [(ngModel)]="model.status" #status="ngModel"  >
                        </div>
                    </div>
              
                      <div class="form-group">
                          <label class="col-md-12">Bio</label>
                          <div class="col-md-12">
                              <textarea rows="5" class="form-control form-control-line" placeholder="{{profile?.bio}}" name="bio" [(ngModel)]="model.bio" #bio="ngModel"></textarea>
                          </div>
                      </div>
                      <div class="form-group">
                        <label class="col-md-12">Location</label>
                        <div class="col-md-12">
                            <input type="text" placeholder="{{profile?.user?.location}}" class="form-control form-control-line" name="location" [(ngModel)]="model.location" #location="ngModel">
                        </div>
                      </div>
                      <div class="form-group">
                          <div class="col-sm-12">
                              <button type="submit" class="btn btn-fill-grad">Update Profile</button>
                          </div>
                      </div>
                  </form>
              </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>